<?xml version="1.0"?>
<launch>
<!-- ARGUMENTS -->
<!--arg name="camera_pose" default="-0.115 -0.05 1.18 0 0 0"/-->
<arg name="camera_pose" default="-0.115 -0.05 1.18 -1.57 0.0 -1.57"/>

<!-- PLAY SOUND from robot 
<node name="audio_play_robot" pkg="audio_play" type="audio_play" output="screen">
	<remap from="audio" to="audio_robot"/>
	<param name="device" value=""/>
	<param name="channels" value="1"/>
	<param name="sample_rate" value="16000"/>
	<param name="sample_format" value="S16LE"/>
	<param name="format" value="wave"/>
</node>
-->

<!-- MIC from operator 
<node name="audio_capture_operator" pkg="audio_capture" type="audio_capture" output="log">
	<remap from="audio" to="audio_operator"/>
	<param name="device" value=""/>
	<param name="channels" value="1"/>
	<param name="sample_rate" value="16000"/>
	<param name="sample_format" value="S16LE"/>
	<param name="format" value="wave"/>
</node>
-->

<!-- CAMERA TF -->
<node pkg="tf2_ros" type="static_transform_publisher" name="camera_tf" args="$(arg camera_pose) base_link head_camera" />

<!-- DECOMPRESS  -->
<node pkg="image_transport" type="republish" name="image_decompress" args="compressed raw">
    <remap from="in" to="/usb_cam/image_raw"/>
    <remap from="out" to="/usb_cam/image_raw"/>
</node>

<!-- CAMERA INFO -->
<node pkg="amano_b4" type="yaml_to_camera_info_publisher.py" name="camera_info_publisher">
    <param name="filename" value="$(find amano_b4)/config/camera_info.yaml"/>
    <remap from="camera_info" to="usb_cam/camera_info"/>
</node>

<!-- VISUALIZER -->
<node pkg="rviz" type="rviz" name="rviz" args="--display-config $(find amano_b4)/rviz/ht_camera_from_bag.rviz">
</node>

<!-- PUBLISH TARGET -->
<node pkg="amano_b4" type="interface_with_image.py" name="pub_target" output="screen">
</node>


<!-- SHOW IMAGE -->
<node pkg="image_view2" type="image_view2" name="image_view2" args="image:=/my_image_raw" />

<!-- PUBLISH GOAL POSE -->
<node pkg="amano_b4" type="publish_position.py" name="pub_point"   output="screen"/>

<!-- OPERATE WITH KEYBOARD -->
<node pkg="amano_b4" type="keyboard_move.py" name="keyboardMove" />

</launch>
